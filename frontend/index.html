{{template "base" .}}

{{define "content"}}
<div class="container min-vh-100 d-flex justify-content-center align-items-center">
    <div class="d-flex flex-column gap-2 align-items-center">
        <div id="telegram-login" style="border: 1px solid red; padding: 10px;">
            <script async src="https://telegram.org/js/telegram-widget.js"
                data-telegram-login="foodtrack_auth_bot"
                data-size="large"
                data-onauth="TelegramLoginWidget.dataOnauth(user)"
                data-request-access="write"
                data-radius="8">
            </script>
        </div>
        <div id="auth-success-message" class="mt-2 text-success text-center" style="display: none;">
            Успешная аутентификация
        </div>
        {{if .UserID}}
            {{template "board" .}}
        {{end}}
    </div>
</div>
{{end}}

{{define "scripts"}}
<script>
    window.currentUserID = "{{.UserID}}";
    console.log("Current user ID:", window.currentUserID);
</script>
<script src="/static/js/auth.js"></script>
{{end}}
